/*

            CRULLOP 2.0
        FRASSEFRAS FÖR FAN
    BURBRUEE ÄR BÄST JAG ÄLSKAR HONOM

                                            */
#include <SFML/Network.hpp>
#include <iostream>
#include "IRCConnection.h"
#include "stringHandler.h"
#include "config.h"

int main()
    {

        std::cout <<    "****************************************************************************\n" <<
                        "*** THE MOST AWESOME AND SPAMTASTIC INTERNET RELAY CHAT BOT IN THE WORLD ***\n" <<
                        "****************************************************************************\n" <<
                        "*::'######::'##::::'##:'########:'########::'##:::'##:'########:'########::*\n" <<
                        "*:'##... ##: ##:::: ##: ##.....:: ##.... ##: ##::'##:: ##.....:: ##.... ##:*\n" <<
                        "*: ##:::..:: ##:::: ##: ##::::::: ##:::: ##: ##:'##::: ##::::::: ##:::: ##:*\n" <<
                        "*:. ######:: ##:::: ##: ######::: ########:: #####:::: ######::: ########::*\n" <<
                        "*::..... ##:. ##:: ##:: ##...:::: ##.. ##::: ##. ##::: ##...:::: ##.. ##:::*\n" <<
                        "*:'##::: ##::. ## ##::: ##::::::: ##::. ##:: ##:. ##:: ##::::::: ##::. ##::*\n" <<
                        "*:. ######::::. ###:::: ########: ##:::. ##: ##::. ##: ########: ##:::. ##:*\n" <<
                        "*::......::::::...:::::........::..:::::..::..::::..::........::..:::::..::*\n" <<
                        "****************************************************************************\n" <<
                        "************* PROGRAMMING: CARL, BURBRUEE | COPYRIGHT (C) 2010 *************\n" <<
                        "****************************************************************************\n\n";

        stringHandler strH;
        IRCConnection IRC(&strH);
	Config conf;

        sf::IPAddress iP(conf.getIrcServer());
        if (!IRC.connect(&iP,conf.getIrcPort(),"sverkerbot","sverkerbot",conf.getIrcChannel()))
            return 0;

        while(true)
            {
                if (!IRC.listen())
                    return 0;
            }

        return 0;
    }
